<!-- search.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Search For a Student{% endblock %}

{% block content %}
<!-- Content for the search page -->
<script src="{% static 'js/Search.js' %}"></script>
<h1 class="Header1">Search For Active Students</h1>
<div class="unique-container">
    <div id="Search-box">
    <form method="POST" action="{% url 'search_for_student' %}">
        {% csrf_token %}
        <input type="text" placeholder="Enter Student Name..." name ="searched" id="SEARCH_NAME">
        <button type="submit" class="submit" id="searchButton">Search</button>
        <div id="noResults"></div>
    </form>
    </div>

    <table id="Search-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>NAME</th>
                <th>Level</th>
                <th>Department</th>
            </tr>
        </thead>
        <tbody>
            {% if students.count == 0 %}
            <tr>
                <td colspan="4">No Students Found</td>
            </tr>
            {% else %}
                <!-- loop through the students in django and make a row for them -->
                {% for student in students %}
                <tr>
                    <td>{{ student.id }}</td>
                    <td>{{ student.name }}</td>
                    <td>{{ student.level }}</td>
                    <td>{{ student.department }}</td>
                </tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>
</div>

{% endblock %}
