<!-- DepartmentAssignmet.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Assign Your Department{% endblock %}

{% block content %}
	<script src="{% static 'js/DepartAssign.js' %}"></script>

		<h1 class="Header1">Department Assignment</h1>
		<div class="container">
			<table id="AssignDepartTable">
			<thead>
				<tr>
					<th>Student ID</th>
					<th>Student Name</th>
					<th>Department</th>
				</tr>
			</thead>

			<tr id="StudentRowinAssignDepartment">
				<td id="StdIDAssignDepart"><b></b></td>
				<td id="StdNameAssignDepart"></td>
				<td>
					<select name="Departments" id="Departments">
						<option value="IS">IS</option>
						<option value="AI">AI</option>
						<option value="CS">CS</option>
						<option value="DS">DS</option>
						<option value="IT">IT</option>
					</select>
				</td>
			</tr>
		</table>

		<br><br>

		<button id="saveDepartmentButton">Save</button>

	</div>

	<script>
		window.addEventListener('storage', function(event) {
		  if (event.key === 'studentUpdated') {
			const studentID = event.newValue;
			const department = localStorage.getItem('department_' + studentID);
			updateDepartmentInSearchPage(studentID, department);
		  }
		});
	  </script>
{% endblock %}

